(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[5],{43:function(e,t,n){"use strict";var r=n(1),c=n.n(r),a=(n(44),n(0));function i(e,t){var n=e.id,r=e.className,c=e.style,i=e.glassColor,s=e.children;return null==i&&(i="pink"),Object(a.jsx)("div",{id:n||null,className:"".concat(r||""," glass_").concat(i),style:{style:c},ref:t,children:s})}t.a=c.a.forwardRef(i)},44:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));function r(t,n){var r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,r=atob(e),c=[],a=0;a<r.length;a+=n){for(var i=r.slice(a,a+n),s=new Array(i.length),l=0;l<i.length;l++)s[l]=i.charCodeAt(l);var o=new Uint8Array(s);c.push(o)}return new Blob(c,{type:t})}(e.from(t,"binary").toString("base64"),n);return URL.createObjectURL(r)}}).call(this,n(82).Buffer)},86:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(45),c=n.n(r),a=n(46),i=n(87),s=n(8),l=n(1),o=n.n(l),u=n(13),d=n(61),h=n.n(d).a.create({baseURL:"https://16.162.161.228:9443",timeout:2e4}),f=function(e){return h.get("api/image/".concat(e),{responseType:"arraybuffer"})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return h.get("api/imageSize/".concat(e))},p=n(43),b=(n(80),n(81)),g=(n(86),n(0));function v(e){var t=Object(l.useState)(!0),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(l.useState)({width:"".concat(0,"px"),height:"".concat(0,"px")}),u=Object(s.a)(o,2),d=u[0],h=u[1],p=Object(l.useState)(null),v=Object(s.a)(p,2),m=v[0],O=v[1];return Object(l.useEffect)((function(){function t(){return(t=Object(a.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(e.id);case 3:n=t.sent,h(n.data),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function n(){return(n=Object(a.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e.id);case 3:n=t.sent,r=Object(b.a)(n.data,n.headers["content-type"]),O(Object(g.jsx)("img",{src:r,alt:"ImageCard",className:"image_card_image"})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().then((function(e){return function(){return n.apply(this,arguments)}()}),(function(e){return i(!1)})),function(){i(null),h(null),O(null)}}),[e.id]),Object(g.jsx)(g.Fragment,{children:r&&Object(g.jsx)("div",{style:d,className:"image_card",children:m})})}var m=o.a.memo(v),O=n(19);t.default=function(){var e=Object(l.useRef)(null),t=Object(l.useState)(0),n=Object(s.a)(t,2),r=n[0],d=n[1],h=Object(l.useState)(null),f=Object(s.a)(h,2),b=f[0],v=f[1],y=o.a.createRef(b),x=Object(l.useState)([]),w=Object(s.a)(x,2),_=w[0],E=w[1],k=o.a.createRef(_),N=Math.max(Math.floor(r/260),1),S=!1;b&&_&&_.length===Object.keys(b).length&&(S=!0);var I=function(){for(var e=[],t=[],n=0;n<N;n++)e.push([]),t.push(0);_.forEach((function(n){return function(e,t,n){if(null==b)return;var r=b[e];if(null==r)return;var c=parseInt(r.height.replace(/[^\d]/g,"")),a=Object(u.a)(n);n[a]+=c+20,t[a].push(Object(g.jsx)(m,{id:e,style:r},e))}(n,e,t)}));var r=[];return e.forEach((function(e,t){return r.push(Object(g.jsx)("div",{className:"gallery_column",children:e},t))})),r}();return Object(l.useEffect)((function(){function t(){if(e.current){var t=getComputedStyle(e.current),n=t.width,r=t.padding,c=parseInt(n.replace(/[^\d]/g,""))-2*parseInt(r.replace(/[^\d]/g,""));d(c)}}function n(){var e=document.documentElement.scrollHeight,t=document.documentElement.clientHeight,n=window.scrollY;if(null!=y.current&&null!=k.current){var r=k.current.length,c=Object.keys(y.current).length;n>e-(O.isMobile?3:2)*t&&r<c&&E((function(e){var t=[].concat(Object(i.a)(e),[e[e.length-1]+1]);return k.current=t,t}))}}function r(){return(r=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j();case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return function(){return r.apply(this,arguments)}().then((function(e){y.current=e,v(e)})),t(),function(){var e=Object(i.a)(Array(28).keys()).slice(1);k.current=e,E(e)}(),window.addEventListener("scroll",n,!0),window.addEventListener("resize",t,!0),function(){window.removeEventListener("resize",t),window.removeEventListener("scroll",n),v(null),d(null),E(null)}}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{id:"myGallery_description",className:"my_d_container s_t_default_bg",children:[Object(g.jsx)("div",{className:"s_c_padding h1_container",children:Object(g.jsx)("h1",{children:"My Gallery"})}),Object(g.jsx)("div",{className:"s_c_padding h2_container",children:Object(g.jsxs)("h2",{children:["This project is trying to fetch Images dynamically from ExpressJs Backend, through RESTful API.",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"Waiting list of items to be integrated in this project:",Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),"Progressive Image Loading, Image Upload Function,",Object(g.jsx)("br",{}),"Integrate and Upgrade Search Engine developed in my University Project to this Project, etc."]})})]}),Object(g.jsx)("div",{id:"myGallery_container",className:"content_container",children:Object(g.jsx)("div",{id:"gallery_container",className:"s_c_padding",children:Object(g.jsx)(p.a,{id:"gallery",glassColor:"white",ref:e,children:I})})}),S&&Object(g.jsx)("div",{className:"my_d_footer",children:Object(g.jsx)("div",{className:"s_c_padding h2_container ",children:Object(g.jsx)("h2",{children:"That's all we can get from the server~"})})})]})}}}]);
//# sourceMappingURL=5.60e5e18e.chunk.js.map